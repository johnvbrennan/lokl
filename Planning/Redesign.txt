To redesign **Lokl** into a modern, "sick" mobile-first application, follow this technical specification. This is optimized for a single-file vanilla HTML/CSS/JS architecture using Leaflet.

---

## 1. Design System & Aesthetic

The goal is a **Cyber-Emerald** aesthetic: dark, high-contrast, and immersive.

* **Color Palette:**
* **Background:** Deep Obsidian (`#020b09`) to Forest Gradient (`#052c24`).
* **Primary Accent:** Neon Mint (`#00ff88`) for correct guesses and primary UI glow.
* **Feedback Colors:** Warning Orange (`#ffcc00`) for "Near" and Hot Coral (`#ff4b2b`) for "Far."


* **Visual Style:**
* **Glassmorphism:** All UI panels must use `backdrop-filter: blur(12px)` and `rgba(255, 255, 255, 0.05)` backgrounds.
* **Glow FX:** Use `box-shadow` and `drop-shadow` for active elements to simulate a "lit" neon effect on the map.



---

## 2. Layout Architecture (Mobile-First)

The map is the primary canvas; UI elements should float on top.

* **Header (Floating):** A glass-pill container at the top center containing the logo, guess counter (e.g., `3/6`), and a hamburger menu for settings/modes.
* **The Map (Full Screen):** The Leaflet container must occupy `100vh` and `100vw`.
* **Guess History (Horizontal Rail):** Instead of a vertical list, display previous guesses as horizontal scrolling "pills" just above the input bar. Each pill should show the county name and a small directional arrow.
* **Input Dock (Bottom Fixed):** A centered, rounded bar with a high-glow focus state. The "Submit" button should be a minimalist arrow icon within the bar.

---

## 3. Technical Implementation Details

### Leaflet Customization

* **Tiles:** Use a dark-mode provider (e.g., CartoDB Dark Matter).
* **Map Filter:** Apply `filter: brightness(0.7) contrast(1.2);` to the map tiles via CSS to ensure the overlays pop.
* **County Styling:**
* Default: `stroke: rgba(0, 255, 136, 0.2); fill: transparent;`
* Correct: `fill: #00ff88; fill-opacity: 0.6; stroke: #00ff88;` with a CSS drop-shadow.



### Interaction & Juice

* **Transitions:** All map color changes must have a `0.4s ease-in-out` transition.
* **Directional Hints:** In "Easy" mode, draw a curved `L.polyline` (AntPath) from the center of the guessed county toward the target county that fades after 2 seconds.
* **Persistence:** Use `localStorage` to save the "Daily Challenge" state, ensuring the map remains populated if the user refreshes.

---

## 4. Feature Requirements

### Game Modes

* **Daily:** Fetch the "County of the Day" using a date-based seed.
* **Practice:** Reset the `target_county` variable on command without reloading the page.
* **Locate:** Display a prompt (e.g., "Find Co. Galway") and listen for `map.on('click')` events, highlighting green for success or red for failure.

### Difficulty Logic

* **Easy:** Display `distance` (km) + `direction` (arrow/bearing).
* **Medium:** Display `distance` (km) only.
* **Hard:** Display `direction` (arrow) only.

---

## 5. CSS Utility Classes for the "Sick" Look

```css
.neon-border {
    border: 1px solid rgba(0, 255, 136, 0.4);
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.2);
}

.glass {
    background: rgba(10, 10, 10, 0.6);
    backdrop-filter: blur(15px);
    border-radius: 24px;
}

@keyframes pulse-glow {
    0% { filter: drop-shadow(0 0 2px #00ff88); }
    100% { filter: drop-shadow(0 0 10px #00ff88); }
}

```

**Would you like me to generate the actual code for the `index.html` file based on this spec?**